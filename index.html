<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>enviroCar-Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.css" rel="stylesheet">
    <link href="./css/custom.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="./assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="shortcut icon" href="./ico/favicon.png" type="image/png" />
    <link rel="icon" href="./ico/favicon.png" type="image/png" />
    <style>
        h2{
            padding-top: 20px;
        }
        
        pre{
            font-family: Monaco, "Bitstream Vera Sans Mono", "Lucida Console", Terminal, monospace;
            color: #000;
            font-size: 12px;
            margin-top: 10px;
            padding-top: 10px;
            background: #FDFEFB;
            border-radius: 4px;
            border: 1px solid #D7D8C8;
            overflow: auto;
            margin-right: 20px;
        }

    </style>
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top customNav">
      <div class="customNav">
        <div class="customNav">
          <img src="./img/enviroCar_logo_white_13-06-08_165x50.png" class="brand" style="height: 50px; padding:0; margin:0; padding-right:15px;" alt="" />
          </div><!--/.nav-collapse -->      
        </div>
      </div>
    </div>

    <div class="container leftband" style="padding-bottom: 20px">
      <h1>enviroCar-Website Documentation</h1>
      <hr>
      
      <h2>About</h2>
      This document describes the work done for the <a href="http://envirocar.org/" target="_blank">enviroCar</a> project.<br>
      
      <ul class="customLi" style="max-width: 500px">
        <li><a href="#developers">Developers</a></li>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#structure">File Structure</a></li>
        <li><a href="#aggregation">Data aggregation</a></li>
        <li><a href="#outlook">Outlook</a></li>
        <li><a href="#serverinformation">Server information</a></li>
      </ul>
      
      <h2><a name="developers" class="anchor"></a>Developers</h2> 
      <ul>
      <li>Dennis Wilhelm ( d.wilhelm@uni-muenster.de ) (<a href="https://github.com/dwilhelm89" target="_blank">@Github</a> )</li>
      <li>Dustin Demuth ( dustin.demuth@uni-muenster.de ) ( <a href="https://github.com/dustindemuth" target="_blank">@Github</a> ) </li>
      <li>Stephanie Walter ( stephanie.walter@uni-muenster.de ) ( <a href="https://github.com/StephanieWalter" target="_blank">@Github</a> ) </li>
      <li>Friedrich Müller ( f_muel25@uni-muenster.de ) ( <a href="https://github.com/FriedrichMueller" target="_blank">@Github</a> ) </li>
      <li>Oraib Megdadi ( o_megd01@uni-muenster.de ) ( <a href="https://github.com/oraibalmegdadi" target="_blank">@Github</a> )</li>
      </ul>
      <h2><a name="installation" class="anchor"></a>Installation</h2> 
        To run the website on your own you have to install a webserver. We suggest to use an <a href="http://httpd.apache.org/" target="_blank">Apache2</a> webserver with a <a href="http://php.net/manual/en/book.apache.php" target="_blank">PHP5</a> extension. <br>
        
        For ubuntu servers, you can use the following commands:
        <pre>
            sudo apt-get install apache2
            sudo apt-get install php5
        </pre>
        <br>
        For the interaction with the RESTful server, you have to install the <a href="http://curl.haxx.se/" target="_blank">cURL</a> extension to php.<br>
        <pre>
            sudo apt-get install php5-curl
        </pre>
        <br>

      
      <h2><a class="anchor" name="structure"></a>File Structure</h2>
      <ul>
        <li>/</li>
        <ul>
            <li>html files</li>
        </ul>
        <li>assets</li>
        <ul>
            <li>includes (server-side code, responsible for RESTful connection as well as login- and language sessions)</li>
            <li>css (Twitter Bootstrap and custom CSS files</li>
            <li>js (javascript of libraries)</li>
            <li>font (used fonts)</li>
            <li>ico (favicon for the browser)</li>
            <li>OpenLayers (Library)</li>
            <li>download (example .shp for the information page)</li>
            <li>img (images used on the website)</li>
        </ul>
      </ul>
      
      <h2><a class="anchor" name="aggregation"></a>Data aggregation</h2>
      <div style="padding-left: 20px">
          <b>What does the algorithm currently do:</b><br>
          <ul>
            <li>Iterating over all OpenStreetMap road-coordinates within a defined bounding-box</li>
            <li>Downloading all tracks from enviroCar within a bounding-box</li>
            <li>Calculating the IDW for all measurements within a distance < 20m</li>
            <li>Storing the aggregated values within a PostGIS database</li>
            <li>Export as GeoJSON</li>
          </ul>
          <br>
            
          <b>Setup:</b><br>
          The data-aggregation algorithm is located within the branch: <i>data-aggregation</i>.<br>
          For the data aggregation, you will need a PostgreSQL database with PostGIS extension. <br>
          <pre>
            sudo apt-get install php5-pgsql
            sudo apt-get install postgresql-9.1
            sudo apt-get install postgresql-9.1-postgis
            sudo apt-get install postgresql pgadmin3
          </pre>
          <br>
            The SQL files to create the tables can be found in the folder sql. As the aggregation is based on OpenStreetMap roads, you have to insert the roads for your preferred region.
            Download possible on: <a href="http://download.geofabrik.de/">Geofabrik</a> (download as .shp files (route.shp))<br>

        In addition to that, you have to create a config file (<i>db_conf.php</i>) including the server-credentials and the url (this file is ignored by GitHub). The file has to include:<br>
        <pre>
            $dbhost = 'YOUR_SERVER_URL';
            $dbname = 'YOUR_DATABASE_NAME';
            $dbuser = 'YOUR_USER_NAME';
            $dbpw = 'YOUR_PASSWORD';
        </pre>
        <br>
        The algorithm can be started with the file <i>product.php</i>.<br><br>
        
        <b>Todo/Improvements:</b><br>
        <ul>
            <li>Distribute the caluclation in several threads (one for each road?)</li>
            <li>Load only measurements near the road segements instead of the complete track</li>
            <li>Pagination if there are more than 100 tracks</li>
            <li>Implement Kriging</li>
            <li>Add other phenomenons</li>
        </ul>
        <br>
        For more information, contact: Dennis Wilhelm (d.wilhelm@uni-muenster.de)
      </div>
      <h2><a name="outlook" class="anchor"></a>Outlook</h2>
      <ul>
        <li>Create a gallery for the informationproduct-page where people can upload their own products (including search, meta-information, etc.)</li>
        <li>Map tiles are currently loaded from OpenStreetMap via a insecure HTTP connection.Caching the tiles our own server and serve them through a secure HTTPS connection would be good.</li>
        <li>Discussed features which currently lack an API</li>
        <ul>
            <li>Achievements</li>
            <li>Friend request (bi-directional friend relations, currently it's more like Twitters following system</li>
            <li>Group invitations (currently lacking a possibility to send messages to other people)</li>
            <li>Requesting new passwords</li>
            <li>Better overall statistics (total length of a route in Km, total gas consumption, etc.)</li>
        </ul>
        <li>Fix open <a href="https://github.com/enviroCar/enviroCar-www/issues?state=open" target="_blank">issues</a> on Github
      </ul>
      <br>
      <h2><a name="serverinformation" class="anchor"></a>Server information</h2>
        <b>Validity of the x.509 certificates:</b><br>
      The SSL certificates of the servers will expire on the following dates:
      <ul>
        <li>envirocar.org (startSSL) (0x17919)</li>
            <ul>
                <li>Not Before: Jun 24 16:39:13 2013 GMT</li>
                <li>Not After : Jun 25 22:33:35 2015 GMT</li>
            </ul>
        <li>giv-cario.uni-muenster.de (WWUCA) (0x15cc18e8748a72)</li>
        <ul>
            <li>Not Before: Jun  3 13:34:16 2013 GMT</li>
            <li>Not After : Jun  2 13:34:16 2018 GMT</li>
        </ul>
        <li>giv-car.uni-muenster.de (WWUCA) (0x15cc1efdc3cc7a)</li>
        <ul>
            <li>Not Before: Jun  3 14:00:13 2013 GMT</li>
            <li>Not After : Jun  2 14:00:13 2018 GMT</li>
        </ul>
       </ul>
       <br>
       The certificates AND their private keys are needed for the encryption of the connections between client and website and website and server. <br>
       Certificates and Keys can be found on the corresponding servers.<br><br>
        
        
       <b>Name-based VirtualHosts</b><br>
       The apache-httpd routes the visitor to different realms. This is done by using Virtual Hosts look here for more documentation <a href="https://httpd.apache.org/docs/2.0/en/vhosts/name-based.html">documentation</a>. <br><br>
              
       <p>
           Contact <a href="mailto:envirocar@demuth.mobi">Dustin</a> for more Details.<br>
       </p>
        
      
    </div>
    



  </body>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
  
  	<footer>
		<div class="container rightband">
        <span>2013 enviroCar</span>
        <span> &middot; <a href="imprint.html">Imprint</a></span>

		</div>
	</footer>
</html>